<!--Notes
this is turning into an interesting exploration of a popular show
- got sidetracked by Game of Thrones, with their near-perfect ratings with their very low-rated last season
- Interested in exploring the progression of a show as on continuous line

-->

---
title: House M.D. Episodes
author: Zach Bogart
date: '2020-09-13'
slug: house-m-d-episodes
categories:
  - R
tags:
  - ggplot
subtitle: TODO
summary: TODO
image:
  caption: ''
  focal_point: ''
  preview_only: yes
output: html_document
editor_options:
  chunk_output_type: console
links:
  donate_button:
    icon: seedling
    icon_pack: fas
    name: Ways to Support
    url: /support/
---

<!-- Icon Image: Small -->
<img src="featured.png" width="100"/> 

<!--Starting Blurb-->
TODO

<!--Put actual work here-->
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, 
                      cache.lazy = FALSE,
                      fig.width = 8,
                      fig.height = 5,
                      message = FALSE)
```

```{r}
library(tidyverse)
source("../2020-08-28-simpsons/rvest_scraper.R")
```

## House M.D.

```{r}
house <- grab_imdb_ratings("tt0412142", c(1:8))
```

```{r}
house %>% 
  ggplot(aes(air_date, rating)) +
    geom_line() +
    geom_point(aes(size = votes), alpha = 0.5) +
    facet_wrap(~ season, scales = "free_x")

house %>% 
  ggplot(aes(air_date, rating)) +
    geom_point(aes(size = votes), alpha = 0.2)
```

## Game of Thrones

```{r}
got <- grab_imdb_ratings("tt0944947", c(1:8))

got %>% 
  mutate(month_day = format(air_date, "%m-%d"))
```

```{r}
got %>% 
  mutate(day_of_year = as.integer(format(air_date, "%j"))) %>% 
  ggplot(aes(day_of_year, rating, color = factor(season))) +
    geom_line(aes(group = season)) +
    geom_point(aes(size = votes), alpha = 0.5) 

got %>% 
  mutate(month_day = format(air_date, "%m-%d")) %>% 
  ggplot(aes(month_day, rating, color = factor(season))) +
    geom_line(aes(group = season)) +
    geom_point(aes(size = votes), alpha = 0.5) 

got %>% 
  ggplot(aes(episode, rating, color = factor(season))) +
    geom_line(aes(group = season)) +
    geom_point(aes(size = votes), alpha = 0.5) 
```

## Both

```{r}
bind_rows(house, got) %>% 
  ggplot(aes(episode, rating, color=show)) +
    geom_point()
```


## House As One Line

```{r}
house %>% 
  mutate(id = seq.int(nrow(house))) %>% 
  
  ggplot(aes(id, rating)) +
    geom_line() +
    geom_point(aes(size = votes)) +
    ylim(5, 10)
```

## Several Shows

```{r}
simpsons <- grab_imdb_ratings("tt0096697", c(1:31))
```


```{r}
bind_rows(house, got, simpsons) %>% 
  group_by(show) %>% 
  mutate(ep_id = row_number()) %>% 
  
  ggplot(aes(ep_id, rating, color = show, alpha = 0.4)) +
    # geom_line() +
    geom_point(aes(size = votes)) +
    ylim(5, 10)
```


<!--Section on Learning (general notes that came up)-->
## Learning
TODO

<!--Noun Image Credit-->
#### Image Credit
[TODO](TODO) by Zach Bogart from [the Noun Project](https://thenounproject.com/)
